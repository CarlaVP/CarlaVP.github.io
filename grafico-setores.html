<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gráfico: Emissões de GEE por Setor no Brasil</title>
    <meta name="description" content="Gráfico de rosca mostrando a distribuição percentual das emissões de gases de efeito estufa (GEE) por setor no Brasil, incluindo Agropecuária, Mudança no Uso da Terra, Energia, Resíduos e Processos Industriais.">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
    </style>
</head>
<!-- CORREÇÃO: Removida a classe 'min-h-screen' para evitar altura excessiva -->
<body class="bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200 flex items-center justify-center">
    <div class="container mx-auto p-2 max-w-2xl">
        <!-- CORREÇÃO: Padding interno reduzido -->
        <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-3 sm:p-4">
            <h1 class="text-xl sm:text-2xl font-bold text-center text-gray-900 dark:text-white mb-2">
                Emissões de GEE por Setor no Brasil (%)
            </h1>
            
            <!-- CORREÇÃO: Altura do gráfico reduzida -->
            <div class="relative w-full" style="height:380px;">
                <canvas id="sectorChart" role="img" aria-label="Gráfico de rosca mostrando as emissões de gases de efeito estufa por setor. Mudança no uso da terra e florestas: 46%. Agropecuária: 28%. Energia: 19%. Resíduos: 5%. Processos industriais: 2%."></canvas>
            </div>

            <!-- CORREÇÃO: Margem superior reduzida -->
            <div class="mt-2 text-xs text-gray-500 dark:text-gray-400 text-center">
                <p><strong>Fonte dos Dados:</strong> Baseado em dados do SEEG/Observatório do Clima.</p>
            </div>
        </div>
    </div>

    <script>
        // --- Configuração do Gráfico (Chart.js) ---
        const ctx = document.getElementById('sectorChart').getContext('2d');
        
        const sectorChart = new Chart(ctx, {
            type: 'doughnut', // Tipo de gráfico: rosca
            data: {
                labels: [
                    'Mudança no uso da terra e florestas', 
                    'Agropecuária', 
                    'Energia', 
                    'Resíduos', 
                    'Processos industriais'
                ],
                datasets: [{
                    label: 'Emissões por Setor',
                    data: [46, 28, 19, 5, 2],
                    backgroundColor: [
                        '#16a34a', // Verde para Florestas
                        '#f97316', // Laranja para Agropecuária
                        '#3b82f6', // Azul para Energia
                        '#6b7280', // Cinza para Resíduos
                        '#8b5cf6'  // Roxo para Indústria
                    ],
                    borderColor: '#ffffff',
                    borderWidth: 2,
                    hoverOffset: 8
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            padding: 15, // Padding da legenda reduzido
                            font: {
                                size: 12
                            }
                        }
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                let label = context.label || '';
                                if (label) {
                                    label += ': ';
                                }
                                if (context.parsed !== null) {
                                    label += context.parsed + '%';
                                }
                                return label;
                            }
                        },
                        backgroundColor: 'rgba(0, 0, 0, 0.8)',
                        titleFont: { size: 14, weight: 'bold' },
                        bodyFont: { size: 12 },
                        padding: 10,
                        cornerRadius: 8,
                    }
                },
                animation: {
                    animateScale: true,
                    animateRotate: true
                }
            }
        });
    </script>
</body>
</html>
